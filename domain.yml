version: "3.1"

intents:
  - greet
  - goodbye
  - affirm
  - deny
  - mood_great
  - mood_unhappy
  - bot_challenge
  - add_contact
  - inform
  - ask_sentiment
  - check_scam
  - crypto_topic
  - share_expertise
  - mention_crypto
  - nlu_fallback
  - out_of_scope
  - contact_add_request

responses:
  # Basic greeting and introduction
  utter_greet:
    - text: "Hello! Welcome to your crypto wallet assistant. How can I help you today?"
    - text: "Hi there! I'm your cryptocurrency wallet assistant. What would you like to do?"
    - text: "Welcome to your digital wallet! I'm here to assist with your crypto needs."
    - text: "Hello! Ready to manage your cryptocurrency wallet? I'm here to help."
    - text: "Greetings! Your crypto assistant is ready to help with your wallet needs."
    - text: "Hi! I'm your crypto wallet AI. What can I do for you today?"
    - text: "Welcome back to your crypto wallet! How may I assist you?"
    - text: "Hello! Your cryptocurrency management assistant is at your service."
    - text: "Hi there! Ready to navigate the crypto world together? What's on your mind?"
    - text: "Welcome! I'm your crypto companion. How can I help with your wallet today?"
    - text: "Good day! Your digital asset assistant is here. What would you like to do?"
    - text: "Hello! I'm here to help manage your cryptocurrency wallet. What do you need?"
    - text: "Hi! Your personal crypto assistant is ready. What can I help you with?"
    - text: "Welcome to your wallet dashboard! How may I assist you today?"
    - text: "Hello! Looking to manage your crypto assets? I'm here to help."
    - text: "Hi there! Your crypto wallet assistant is ready for your commands."
    - text: "Welcome! How can I assist with your cryptocurrency needs today?"
    - text: "Hello! I'm your digital wallet guide. What would you like to do?"
    - text: "Hi! Ready to help with your crypto management. What's your request?"
    - text: "Welcome aboard! Your crypto wallet assistant is at your service."

  utter_cheer_up:
  - text: "Here is something to cheer you up:"
    image: "https://i.imgur.com/nGF1K8f.jpg"

  utter_did_that_help:
  - text: "Did that help you?"

  utter_happy:
  - text: "Great, carry on!"

  utter_goodbye:
  - text: "Bye"

  utter_iamabot:
  - text: "I am a bot, powered by Rasa."
  
  utter_add_contact_ask_name:
  - text: "Sure! What name would you like to save for this contact?"
  
  utter_add_contact_ask_address:
  - text: "Great! Now please provide the wallet address you want to save."
  
  # New responses for CryptoBERT features
  utter_investment_info:
  - text: "Investing in cryptocurrencies can offer high returns but also comes with significant risks. Remember to diversify your portfolio and only invest what you can afford to lose."
  
  utter_technical_info:
  - text: "Blockchain is a distributed ledger that stores data in blocks that are linked together. Each block contains a record of transactions and a reference to the previous block."
  
  utter_security_tips:
  - text: "Always protect your private keys, use two-factor authentication, and be cautious of phishing attempts. Consider using a hardware wallet for large investments."
  
  utter_ask_crypto_description:
  - text: "Can you describe that cryptocurrency project in more detail?"
  
  utter_ask_expertise_level:
  - text: "How much experience do you have with cryptocurrencies?"
  
  utter_default:
  - text: "I'm not sure I understand. Could you rephrase that?"
  - text: "I didn't catch that. Can you say it differently?"
  - text: "I'm having trouble understanding. Could you try another way?"
  
  utter_out_of_scope:
  - text: "That's outside my cryptocurrency expertise. I'm better at helping with wallet addresses, crypto sentiment, and detecting scams."
  - text: "I'm focused on cryptocurrency topics. I can help with wallet validation, sentiment analysis, and scam detection."

actions:
  - action_validate_wallet_address
  - action_reset_contact_slots
  - action_analyze_sentiment
  - action_detect_scam
  - action_classify_topic
  - action_update_user_expertise
  - action_extract_crypto_entities
  - action_handle_context_switch
  - action_ask_crypto_clarification
  
entities:
  - crypto_description
  - continue_flow
  - switch_context
  - contact_add_entity_name
  - contact_add_entity_crypto_network
  - contact_add_entity_wallet_address

slots:
  contact_add_entity_name:
    type: text
    mappings:
      - type: from_entity
        entity: contact_add_entity_name
    influence_conversation: true
    
  contact_add_entity_crypto_network:
    type: text
    mappings:
      - type: from_entity
        entity: contact_add_entity_crypto_network
    influence_conversation: true
    
  contact_add_entity_wallet_address:
    type: text
    mappings:
      - type: from_entity
        entity: contact_add_entity_wallet_address
    influence_conversation: true

  crypto_abbreviation:
    type: text
    mappings:
      - type: custom
    
  # Slot để kiểm soát luồng
  contact_exists:
    type: bool
    influence_conversation: true
    
  valid_address:
    type: bool
    influence_conversation: true

  address_valid:
    type: bool
    influence_conversation: true
    mappings:
    - type: custom
  
  # New slots for CryptoBERT features
  sentiment:
    type: text
    influence_conversation: true
    mappings:
    - type: custom
  
  sentiment_confidence:
    type: float
    influence_conversation: false
    mappings:
    - type: custom
  
  crypto_description:
    type: text
    influence_conversation: true
    mappings:
    - type: from_text
  
  scam_probability:
    type: float
    influence_conversation: false
    mappings:
    - type: custom
  
  query_topic:
    type: text
    influence_conversation: true
    mappings:
    - type: custom
  
  expertise_level:
    type: text
    influence_conversation: true
    mappings:
    - type: custom
  
  mentioned_tokens:
    type: list
    influence_conversation: true
    mappings:
    - type: custom
  
  mentioned_blockchains:
    type: list
    influence_conversation: true
    mappings:
    - type: custom
    
  active_context:
    type: text
    influence_conversation: true
    mappings:
    - type: custom

forms:
  add_contact_form:
    required_slots:
      - contact_add_entity_name
      - contact_add_entity_crypto_network
      - contact_add_entity_wallet_address

imports:
  - data/contact/contact_nlu.yml
  - data/contact/contact_responses.yml
  - data/contact/contact_rules.yml
  - data/contact/contact_stories.yml
  - data/common/crypto_synonym_nlu.yml

session_config:
  session_expiration_time: 60
  carry_over_slots_to_new_session: true